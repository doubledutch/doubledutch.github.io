{"data":{"site":{"siteMetadata":{"title":"DoubleDutch Developer Platform","description":"Information for building on the DoubleDutch platform","author":{"name":"DoubleDutch"},"keywords":["DoubleDutch","Developer Platform"]}},"mdx":{"frontmatter":{"title":"Web View Sections in a DoubleDutch event app","date":"September 23, 2017","author":"Adam Liechty","banner":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='400' height='213' viewBox='0 0 400 213' version='1'%3e%3cpath d='M64 6l-4 6c4 4 6 3 11-4 3-4 6-5 8-3 1 1 0 3-2 7l-4 6 6 3 4-6c7-10 5-13-8-14l-7-1-4 6m193-1l-2 2-6 4c-5 3-6 3-5 5 2 3 3 3 9 0s6-3 7-2c2 3 5 1 4-2 0-3 1-3 3 0 2 2 5 2 5 0 0-3-6-7-9-7h-6M39 17c0 8 0 8 3 8 2 0 2 0 2-4s0-5 2-5 3 2 3 6c0 2 0 3 2 3s2-1 2-6v-5h-5c-4 0-4-1-4-3 0-3 0-3-2-3-3 0-3 0-3 9m77-3h-4c-3-2-6 3-3 5 2 1 2 3 0 5l-1 3-1 2c-2 0-5 4-4 4l8 4c8 4 9 4 10 2 2-2 1-3-4-5-5-3-6-3-3-7v-3c1-2 2-1 7 1 6 3 9 2 12-3v-3c-2-1-3-1-4 1 0 1-2 1-6-1-5-2-4-2-3-3 2-3-1-5-4-2M5 19c0 6 0 6 3 6 2 0 2 0 2-5 0-4 0-4 2-4s3 1 3 5 0 4 3 4c2 0 2 0 2-5 0-6-1-7-9-7H5v6m221-2l-11 6 12 17 13-7c4-5 2-13-5-16h-9m34 3c-9 4-10 6-5 11l4 6c1 2 2 2 10-2l8-4-2-3-2-2-5 3-7 2c-3-2-2-4 4-7s6-3 3-6l-1-2-7 4m-35 1l-3 1c0 1 7 12 9 12s6-4 6-6c0-3-5-8-8-8l-4 1m-22 8l-8 3-6 2 6 8 6 9c1 2 13-5 14-7 4-6 1-13-6-15l-4-1-2 1m-3 4c-4 2-4 2 0 8 5 6 6 6 10 3 3-4 3-6-1-9-3-3-5-4-9-2m70 6c-7 3-8 4-6 6s2 2 8-1c5-2 6-2 7-1 3 2 2 3-4 6s-6 3-4 6l1 2 7-4c9-4 10-7 6-11l-4-4c-1-3-3-3-11 1M96 41c-4 5-4 9 1 13 8 6 20-2 16-10-1-5-12-7-17-3m225 4c-3 5-4 5-2 5 1-1 2 0 2 1h-7l3 2c2 1 3 2 2 3h-6c-3-2-2 1 1 3 3 1 3 1 5-1l2-2 1-2 7-11-2 1c-1 1-1 1-1-1-1-3-2-3-5 2M87 56c-1 1-3 2-3 4l-3 4c-3 3-3 4 9 10 11 5 11 5 13 3s1-3-2-5c-3-1-3-1-1-3 4-3 2-11-5-12-5-2-6-2-8-1m134 11c-6 4-3 8 4 7 4-1 4-1 3 1l-5 1c-2 0-2 0-1 2 2 1 5 1 9-2 5-3 1-8-5-6-4 1-5-1-1-2l3-2c0-2-3-1-7 1m-12 6c-7 3-4 9 3 7h4l-4 2c-4 1-5 3-1 3 3 0 8-3 8-4 2-4 0-5-5-5h-5l5-2c1 0 2 0 1-1 0-2-2-2-6 0M74 75l-3 4-3 4c-3 3-3 2 11 9 10 4 10 4 12 3 2-3 1-3-2-5l-3-1 2-2c4-5 2-10-5-13-4-1-6-1-9 1m119 5c-5 3-3 10 2 11 4 1 10-1 11-4 1-5-7-10-13-7M62 91c-2 2-1 4 5 6 5 3 6 4 3 6-1 1-2 1-7-1-6-3-6-3-8-1l-1 2 15 7c3 0 6-3 6-6l1-2 4-4-16-8-2 1m78 7c-2 4-3 6 0 8 3 3 7 3 10 0s5-2 2 1c-2 3-2 3-1 4 2 0 4-1 6-5s0-5-6-8c-8-4-8-4-11 0M22 99c-3 4-3 4-2 6 3 5 11 5 13 0l1-1v4c-3 4 0 5 3 2 3-5 3-8-3-11-9-5-9-5-12 0m28 10c-2 1-5 7-5 9 0 4 7 5 12 1l4-2c1 1-1 4-4 6l-3 2 3 1c2 1 3 1 6-3 7-8 1-16-8-9-5 4-6 2-2-2 3-3 3-3 1-4-1-1-2-1-4 1m80 4l-3 4 6 3c5 3 6 3 7 2 1-2 1-3-3-4-4-2-5-4-3-5 1-1 3 0 6 1 3 2 5 2 5 1 1-2 1-2-4-5-6-3-7-3-11 3m-116-2l-2 2-1 2c-3 1-2 3 4 6s6 3 7 1c1-1 0-2-4-4-3-1-4-2-3-3 0-3 2-2 7 0l4 2 1-2c0-2-1-3-4-4-6-2-7-2-9 0m196 0l3 4c3 2 3 3-3 2-5 0-5 0-5 2s1 2 10 2c8 0 9 0 9-2 0-1-1-2-3-2h-3l3-2 3-4c0-2 0-2-4 0l-4 2-3-2c-3-2-3-2-3 0m36 3c0 2-1 2-3 2-3 0-3 0-3 3 0 2 0 2 3 2l3 1h3l7-1c7 0 8-1 9-5 0-4 0-4-2-4l-2 2c-1 2-2 2-6 2-5 0-6 0-6-2l-1-2-2 2m-83 5l-2 4c0 2 5 6 8 6 4 0 11-9 7-10l-3 3c0 2-1 3-3 3s-2 0 1-4c2-3 2-3 1-4-3-2-7-1-9 2m215 2c-1 2-2 3-4 2h-4c-1 2-1 2 7 6l10 4c2-1 1-4-3-5l-4-3c0-2 3-2 7 0h5c1-2 1-2-4-5-6-3-8-3-10 1m-123 6l-2 3-1 4h-3l1-5c1-3 1-3-1-3-5 0-5 8-2 11 4 4 8 3 10-3 1-2 2-4 3-3v7c-1 2-1 2 1 2s3-1 4-3c1-9-5-16-10-10M0 134c0 7 0 7 3 8s7-1 8-3l2-4c1-1 0-2-5-5-8-4-8-4-8 4m118-5l-1 3-2 3-2 2 6 3c6 3 7 3 8 1 1-1 0-2-3-4-4-1-5-2-4-4 0-1 1-1 6 1 4 2 4 2 6 0 2-3-11-8-14-5m37 1c-4 5-1 11 6 11 5 0 11-8 6-10l-1 2c-1 3-5 6-6 5l2-4c2-3 3-5 0-5-3-2-5-1-7 1m137 25l1 16h9v-32h-10v16m-106-12c-7 3-9 6-7 10 3 7 9 9 14 5 3-2 4-2 4-1 0 2-5 5-8 5l-1 2 1 2c0 2 12-4 13-7 2-3 1-4-4-12l-5-7-7 3m25-2c-2 2-1 9 0 9s2-1 2-3c-1-3 1-4 3 0 0 3 1 4 4 4h4v-11h-6l-7 1m-71 4c-2 1-2 1 7 5 9 5 8 5 12-1 2-4 3-5 1-5-1-1-3 0-5 4-1 1-1 1-5-1-7-4-9-4-10-2m106 1c0 2 1 2 7 2s7 1 7 3c0 3-2 4-9 4-4 0-5 0-5 2s1 2 8 2c9 0 12-1 11-6l-1-6v-3h-9c-8 0-9 0-9 2m67 3c-11 8-5 22 9 22 11 0 18-7 15-15-3-9-16-12-24-7m31-1l-4 1 5 10c6 13 5 12 10 12 6 0 6 0 11-11 5-13 5-12 0-12h-4l-3 6c-3 9-3 9-6 1-4-8-3-8-9-7m37 1c-6 3-9 10-6 16 2 5 17 8 23 5 3-1 3-6 0-6-5 2-8 2-11 1-6-2-5-4 5-4h8v-5c0-4 0-6-2-7-2-2-14-2-17 0m-276 2c-7 2-6 11 2 13 6 1 11-7 6-11-2-2-6-3-8-2m59 3l-4 2-3 1c-2 1-2 2 2 8l5 7 3-1 3-2-3-4c-3-4-3-5-2-7 2-2 4-1 8 4 3 5 4 5 8 2 1 0-6-10-8-11-3-2-7-1-9 1m155 0c-6 4 0 14 6 11 4-2 4-9 1-11s-4-2-7 0m-107 1c-2 1-2 2-2 5 1 3 1 3-2 3-2-1-3 0-3 1 0 2 1 2 10 2l9-1c0-2-1-2-4-2-5 0-8-1-7-3s2-2 6-2 5 0 5-2-7-3-12-1m-65 7c-2 2-2 2 2 8l6 7 2-1 3-1-5-7c-4-7-5-8-8-6m-53 3l-1 3-2 2-3 3-2 4c-2 2-2 2 4 5 7 3 7 3 8 1 1-1 0-2-4-4-3-1-4-2-3-3 0-2 1-2 6 0 3 2 4 2 5 1 1-2 1-3-3-4-4-2-5-4-3-5 1-1 3 0 6 1 4 2 4 2 5 1 1-2 1-2-4-5-7-3-8-3-9 0m152 3c0 4 2 6 3 3s15-3 17 0l1 2 2 1c4 0 3-8-2-9l-12-1h-9v4m-112 0c-10 5-7 13 4 10h4c1 1-3 3-7 3l-3 1 1 2c2 2 6 1 10-1 10-6 5-13-5-10l-4 1c-1-2 3-4 6-4s4-1 2-3c-2-1-4-1-8 1m-15 7c-3 2-3 2 1 7 2 3 3 5 2 6-2 2-5 1-8-3-4-6-3-5-6-4l-3 1 4 6c5 8 11 9 14 4l3-2c2 1 5-1 5-3l-9-13-3 1m74 15v16h9v-8l1-8h8v16h9v-9l-1-12c-3-3-9-4-13-2l-4 2v-11h-9v16m-29-13c-6 4-8 7-8 14 0 10 6 15 17 15 10 0 14-1 14-5 0-5 0-5-5-3-10 5-20-2-16-11 3-5 8-7 15-4 6 3 6 3 6-2 0-3-1-4-4-5-6-2-14-1-19 1m111 6c-11 3-9 12 2 14l6 3h-11l-4-2v3c0 3 1 4 2 4 12 4 23 0 23-7 0-4-1-5-9-6l-7-2c-2-2 9-2 13-1 2 1 2 1 2-2l-1-3c-1-1-13-2-16-1m-47 12v11h9v-7c0-9 0-9 7-9 4 0 4 0 4-3 0-5-3-5-8-3-3 2-3 2-3 0l-4-1h-5v12m25-1v11l4 1h5v-23h-9v11m123 4l-10 14 3 1c4 0 4-1 9-8 7-9 7-10 4-11s-2-2-6 4m-336 1c-3 0-6 3-6 5 0 4 7 9 11 9 5 0 5-1 0-5s-5-5-2-5 7 2 9 5h2c1-2 2-3 1-4-3-3-12-6-15-5m-37 4c-3 1-4 6-2 9 3 3 16 0 14-4-1-1-1-1-4 1-2 2-6 3-6 1l4-2c5-3 5-3 2-5s-5-2-8 0' fill='lightgray' fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.8761329305135952,"src":"/static/268e4168d1269cc7c8f738ebdde61d2c/ae317/banner.png","srcSet":"/static/268e4168d1269cc7c8f738ebdde61d2c/182df/banner.png 225w,\n/static/268e4168d1269cc7c8f738ebdde61d2c/de17b/banner.png 450w,\n/static/268e4168d1269cc7c8f738ebdde61d2c/ae317/banner.png 621w","srcWebp":"/static/268e4168d1269cc7c8f738ebdde61d2c/0b2be/banner.webp","srcSetWebp":"/static/268e4168d1269cc7c8f738ebdde61d2c/51612/banner.webp 225w,\n/static/268e4168d1269cc7c8f738ebdde61d2c/6a6fd/banner.webp 450w,\n/static/268e4168d1269cc7c8f738ebdde61d2c/0b2be/banner.webp 621w","sizes":"(max-width: 621px) 100vw, 621px"}}},"slug":"web-views","keywords":null},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"h1\",\n      components: components\n    }, `Getting started`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `A web view can be embedded in any DoubleDutch event app via the DoubleDutch CMS.`), React.createElement(MDXTag, {\n      name: \"blockquote\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"p\",\n      components: components,\n      parentName: \"blockquote\"\n    }, `Layout > Add New Section > Web View`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Insert the URL of the web page to load. HTTPS is preferred. It can be an existing web page such as a\n`, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://twitter.com/DoubleDutch\"\n      }\n    }, `Twitter feed`), ` or a custom page that your build and host.`), React.createElement(MDXTag, {\n      name: \"h1\",\n      components: components\n    }, `Custom pages`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `A custom page can take advantage of the DoubleDutch Javascript SDK for accessing basic user and\nevent information when referened as a Web View section in a DoubleDutch app. Just include the\n`, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://github.com/doubledutch/sdk/blob/master/DDEventsSDK.js\"\n      }\n    }, `DDEventsSDK.js`), ` script, and your\nJavascript in the page can query for event data.`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-js\"\n      }\n    }, `DD.Events.onReady(() => {\n  DD.Events.getCurrentUserAsync(user => {\n    const { ImageUrl, FirstName, LastName, Company, Title, UserIdentifierId, EmailAddress, UserName } = user\n    console.log(\\`Hello, \\${FirstName} \\${LastName}\\`)\n  })\n  \n  DD.Events.getCurrentEventAsync(event => {\n    const { Icon, Name, Description, StartDate, EndDate } = event\n    console.log(\\`Welcome to \\${Name}\\`)\n  })\n})\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `See this `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"http://jsbin.com/vakitax/edit?html,js,output\"\n      }\n    }, `live example`), `.`), React.createElement(MDXTag, {\n      name: \"h1\",\n      components: components\n    }, `Redirect with context`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Sometimes, you may want to redirect to another page, passing some event or user information as context in the query\nstring. The following URL can be embedded as a web view to achieve that.  User and event variables will be replaced\nin the query string at runtime to redirect to the `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `redirect_uri`), ` specified. Note that your `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `redirect_uri`), ` must be\n`, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.urlencoder.org/\"\n      }\n    }, `URL-encoded`), `.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `For example, to do a search for the current attendee's first and last name on Google...`), React.createElement(MDXTag, {\n      name: \"ol\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ol\"\n    }, `Construct the URL with placeholders:`)), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {}\n    }, `https://google.com/search?q=\\${user.FirstName}+\\${user.LastName}\n`)), React.createElement(MDXTag, {\n      name: \"ol\",\n      components: components,\n      props: {\n        \"start\": 2\n      }\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ol\"\n    }, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"li\",\n      props: {\n        \"href\": \"https://www.urlencoder.org/\"\n      }\n    }, `URL-encode`), ` it:`)), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {}\n    }, `https%3A%2F%2Fgoogle.com%2Fsearch%3Fq%3D%24%7Buser.FirstName%7D%2B%24%7Buser.LastName%7D\n`)), React.createElement(MDXTag, {\n      name: \"ol\",\n      components: components,\n      props: {\n        \"start\": 3\n      }\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ol\"\n    }, `Set it as the `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"li\"\n    }, `redirect_uri`), ` of our redirect page:`)), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {}\n    }, `https://ria-static.s3.amazonaws.com/pages/forward.html?redirect_uri=https%3A%2F%2Fgoogle.com%2Fsearch%3Fq%3D%24%7Buser.FirstName%7D%2B%24%7Buser.LastName%7D\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Use this as the final URL for your Web View in the DoubleDutch CMS. `), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Note that redirecting to a page with email address, username, ID, etc. in the query string is `, React.createElement(MDXTag, {\n      name: \"em\",\n      components: components,\n      parentName: \"p\"\n    }, `NOT`), ` a secure method\nof authentication, as it can be easily spoofed.  For secure authentication, a current user token placeholder, `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `\\${token}`), `,\ncan be referenced in your URL if your URL is `, React.createElement(MDXTag, {\n      name: \"inlineCode\",\n      components: components,\n      parentName: \"p\"\n    }, `https://`), `, e.g.`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {}\n    }, `https://mysite.com?token=\\${token}\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Your server can `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://github.com/doubledutch/verify-user-token\"\n      }\n    }, `decode and verify this token`), ` for secure authentication\nto your web page.`));\n  }\n\n}"}}},"pageContext":{"id":"cd888d1f-de80-5890-a32e-e3ff0dde268e","prev":{"id":"395f76e0-4dc5-52eb-85c8-0bebc18c11f6","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"What is the DoubleDutch Developer Platform (DDDP)? DDDP allows DoubleDutch customers and 3rd party developers to build extensions that can be installed\nto any DoubleDutch event app. What is an extension? An extension is a self-contained experience…","fields":{"title":"Frequently Asked Questions","slug":"faq","date":"2019-01-01T00:00:00.000Z","redirects":null},"code":{"scope":""}},"next":{"id":"d57e4b0e-a340-5e9c-8a0a-7ed299cb16d2","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"Publishing your DoubleDutch extension Once you have finished development, you will need to be provisioned for a DoubleDutch developer account\nbefore you can publish and install the extension in an event app. To request your developer credentials…","fields":{"title":"Publishing and Installing Extensions","slug":"getting-started","date":"2017-09-22T00:00:00.000Z","redirects":null},"code":{"scope":""}}}}